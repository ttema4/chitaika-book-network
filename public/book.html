<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Книга — Читайка</title>
  <link rel="stylesheet" href="src/styles/styles.css">
  <script src="src/js/page-load-time.js" defer></script>
  <script src="src/js/nav-active.js" defer></script>
  <script src="src/js/book-notes.js" defer></script>
  <script src="src/js/book-load.js" defer></script>
</head>
<body class="page">
  <header class="header">
    <div class="header__inner">
      <h1 class="header__title">Читайка — книга</h1>
      <div class="header__bar">
        <nav class="nav" aria-label="Основная навигация">
          <ul class="nav__list">
            <li class="nav__item"><a class="nav__link" href="index.html">Главная</a></li>
            <li class="nav__item"><a class="nav__link" href="books.html">Все книги</a></li>
            <li class="nav__item"><a class="nav__link" href="friends-reads.html">Что читают друзья</a></li>
            <li class="nav__item"><a class="nav__link" href="friends.html">Друзья</a></li>
            <li class="nav__item"><a class="nav__link" href="about.html">О нас</a></li>
          </ul>
        </nav>
        <p class="header__auth">
          <a class="btn-ghost" href="login.html">Sign in</a>
          <span class="divider" aria-hidden="true">|</span>
          <a class="btn-ghost" href="register.html">Sign up</a>
        </p>
      </div>
    </div>
  </header>

  <main class="main">
    <section class="section" id="book" hidden>
      <h2 class="section__title">Танец миров</h2>

      <article class="card">
        <p class="card__meta">Автор: А. Примеров • Фэнтези, 2025</p>
        <figure class="figure">
          <img class="figure__img" src="images/cover.jpg" alt="Обложка книги «Танец миров»">
          <figcaption class="figure__caption">Обновлено: недавно</figcaption>
        </figure>
        <p class="card__text">Коротко: квест по мирам и новые правила магии.</p>
        <p>
          <a class="btn-ghost" href="read.html">Читать</a>
          <a class="link" href="#">Добавить в «Хочу прочитать»</a>
        </p>
      </article>
    </section>

    <div id="book-loader" class="preloader" role="status" aria-label="Загрузка…"></div>
    <div id="book-error" class="bn-error" hidden>⚠ Не удалось загрузить книгу</div>

    <section class="section" id="book-notes" aria-labelledby="bn-title" data-book-id="{{BOOK_ID_OR_SLUG}}">
      <h2 id="bn-title" class="section__title">Заметки о книге</h2>

      <form id="bn-form" class="card" novalidate>
        <div class="field">
          <label class="field__label" for="bn-name">Имя</label>
          <input id="bn-name" name="name" type="text"
                required minlength="2" maxlength="40"
                pattern="^[A-Za-zА-Яа-яЁё\\-\\s]+$"
                placeholder="Ваше имя">
          <small id="bn-name-error" class="bn-error" hidden></small>
        </div>

        <div class="field">
          <label class="field__label" for="bn-email">Почта (необязательно)</label>
          <input id="bn-email" name="email" type="email" inputmode="email" maxlength="80" placeholder="name@example.com">
          <small id="bn-email-error" class="bn-error" hidden></small>
        </div>

        <div class="field">
          <label class="field__label" for="bn-rating">Оценка</label>
          <select id="bn-rating" name="rating" required>
            <option value="" selected disabled>Выберите…</option>
            <option value="1">★☆☆☆☆</option>
            <option value="2">★★☆☆☆</option>
            <option value="3">★★★☆☆</option>
            <option value="4">★★★★☆</option>
            <option value="5">★★★★★</option>
          </select>
          <small id="bn-rating-error" class="bn-error" hidden></small>
        </div>

        <div class="field">
          <label class="field__label" for="bn-text">Заметка</label>
          <textarea id="bn-text" name="text" required minlength="10" maxlength="1000"
                    placeholder="Что запомнить/впечатления/цитаты…"></textarea>
          <small id="bn-text-error" class="bn-error" hidden></small>
        </div>

        <div class="bn-actions">
          <button type="submit" class="btn-ghost">Добавить заметку</button>
          <button type="reset" class="btn-ghost bn-btn--ghost">Сбросить</button>
        </div>
      </form>

      <section id="bn-list" class="bn-list" aria-live="polite"></section>

      <template id="bn-tpl">
        <article class="card bn-card" data-id="">
          <header class="bn-card__header">
            <strong class="bn-card__author"></strong>
            <span class="bn-card__meta">
              <span class="bn-card__rating" aria-label="Оценка"></span>
              <time class="bn-card__time" datetime=""></time>
            </span>
          </header>
          <p class="bn-card__text"></p>
          <footer class="bn-card__actions">
            <button type="button" class="btn-ghost bn-btn--sm js-edit">Редактировать</button>
            <button type="button" class="btn-ghost bn-btn--sm bn-btn--danger js-delete">Удалить</button>
            <button type="button" class="btn-ghost bn-btn--sm js-save bn-hidden">Сохранить</button>
            <button type="button" class="btn-ghost bn-btn--sm bn-btn--ghost js-cancel bn-hidden">Отмена</button>
          </footer>
        </article>
      </template>
    </section>
  </main>

  <footer class="footer" id="contacts">
    <h2 class="footer__title">Контакты</h2>
    <address class="footer__address">
      Электронная почта: <a class="link" href="mailto:hello@chitaika.example">hello@chitaika.example</a><br>
      Телефон: <a class="link" href="tel:+70000000000">+7 000 000-00-00</a>
    </address>
    <p class="footer__copy">
      © <time datetime="2025-01-01">2025</time> «Читайка». Все права защищены.
    </p>
  </footer>
</body>
</html>